"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[117],{1470:(e,t,i)=>{i.d(t,{A:()=>v});var n=i(6540),r=i(4164),s=i(3104),o=i(6347),l=i(205),a=i(7485),c=i(1682),d=i(679);function h(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:t,children:i}=e;return(0,n.useMemo)((()=>{const e=t??function(e){return h(e).map((({props:{value:e,label:t,attributes:i,default:n}})=>({value:e,label:t,attributes:i,default:n})))}(i);return function(e){const t=(0,c.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,i])}function p({value:e,tabValues:t}){return t.some((t=>t.value===e))}function f({queryString:e=!1,groupId:t}){const i=(0,o.W6)(),r=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,a.aZ)(r),(0,n.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(i.location.search);t.set(r,e),i.replace({...i.location,search:t.toString()})}),[r,i])]}function x(e){const{defaultValue:t,queryString:i=!1,groupId:r}=e,s=u(e),[o,a]=(0,n.useState)((()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const i=t.find((e=>e.default))??t[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:t,tabValues:s}))),[c,h]=f({queryString:i,groupId:r}),[x,m]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[i,r]=(0,d.Dv)(t);return[i,(0,n.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:r}),j=(()=>{const e=c??x;return p({value:e,tabValues:s})?e:null})();(0,l.A)((()=>{j&&a(j)}),[j]);return{selectedValue:o,selectValue:(0,n.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);a(e),h(e),m(e)}),[h,m,s]),tabValues:s}}var m=i(2303);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=i(4848);function y({className:e,block:t,selectedValue:i,selectValue:n,tabValues:o}){const l=[],{blockElementScrollPositionUntilNextRender:a}=(0,s.a_)(),c=e=>{const t=e.currentTarget,r=l.indexOf(t),s=o[r].value;s!==i&&(a(t),n(s))},d=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const i=l.indexOf(e.currentTarget)+1;t=l[i]??l[0];break}case"ArrowLeft":{const i=l.indexOf(e.currentTarget)-1;t=l[i]??l[l.length-1];break}}t?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},e),children:o.map((({value:e,label:t,attributes:n})=>(0,g.jsx)("li",{role:"tab",tabIndex:i===e?0:-1,"aria-selected":i===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:c,...n,className:(0,r.A)("tabs__item",j.tabItem,n?.className,{"tabs__item--active":i===e}),children:t??e},e)))})}function b({lazy:e,children:t,selectedValue:i}){const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=s.find((e=>e.props.value===i));return e?(0,n.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:s.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==i})))})}function D(e){const t=x(e);return(0,g.jsxs)("div",{className:(0,r.A)("tabs-container",j.tabList),children:[(0,g.jsx)(y,{...t,...e}),(0,g.jsx)(b,{...t,...e})]})}function v(e){const t=(0,m.A)();return(0,g.jsx)(D,{...e,children:h(e.children)},String(t))}},5550:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"certificate/DoD-Certificates-Admins","title":"DoD | Admin","description":"This section is intended for system administrators who need to deploy Department of Defense (DoD) certificates across multiple devices or manage certificates in an organizational environment. These certificates are necessary to ensure secure access to DoD resources for all users.","source":"@site/docs/certificate/DoD-Certificates-Admins.md","sourceDirName":"certificate","slug":"/certificate/DoD-Certificates-Admins","permalink":"/docs/certificate/DoD-Certificates-Admins","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/certificate/DoD-Certificates-Admins.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"DoD | Admin"},"sidebar":"certificateGuideSidebar","previous":{"title":"DoD | User","permalink":"/docs/certificate/DoD-Certificates-Users"},"next":{"title":"Tools & Apps","permalink":"/docs/certificate/Tools-Apps"}}');var r=i(4848),s=i(8453),o=i(1470),l=i(9365);const a={sidebar_position:4,title:"DoD | Admin"},c="DoD Certificate Import \u2013 Admin Guide",d={},h=[{value:"<strong>Automated Script Method</strong>",id:"automated-script-method",level:2},{value:"Step 1: Download the script",id:"step-1-download-the-script",level:3},{value:"Step 2: Run the script",id:"step-2-run-the-script",level:3},{value:"Step 3: Upload the .mobileconfig to Your MDM",id:"step-3-upload-the-mobileconfig-to-your-mdm",level:3},{value:"Step 4: Assign and Deploy the Profile",id:"step-4-assign-and-deploy-the-profile",level:3},{value:"Step 5: Verify Deployment",id:"step-5-verify-deployment",level:3},{value:"<strong>Manual Method</strong>",id:"manual-method",level:2},{value:"Step 1: Download DoD Certificates from an Authorized Location",id:"step-1-download-dod-certificates-from-an-authorized-location",level:3},{value:"Step 2: Locate, Extract, and Explore the Certificates",id:"step-2-locate-extract-and-explore-the-certificates",level:3},{value:"Step 3: Upload Certificates to MDM",id:"step-3-upload-certificates-to-mdm",level:3},{value:"Step 4: Configure Configuration Settings (if available)",id:"step-4-configure-configuration-settings-if-available",level:3},{value:"Step 5: Assign and Deploy the Profile",id:"step-5-assign-and-deploy-the-profile",level:3},{value:"Step 6: Verify on Devices",id:"step-6-verify-on-devices",level:3},{value:"<strong>Troubleshooting Steps</strong>",id:"troubleshooting-steps",level:2}];function u(e){const t={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components},{Details:i}=t;return i||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"dod-certificate-import--admin-guide",children:"DoD Certificate Import \u2013 Admin Guide"})}),"\n",(0,r.jsx)(t.p,{children:"This section is intended for system administrators who need to deploy Department of Defense (DoD) certificates across multiple devices or manage certificates in an organizational environment. These certificates are necessary to ensure secure access to DoD resources for all users."}),"\n",(0,r.jsxs)(t.admonition,{title:"Recommended",type:"info",children:[(0,r.jsxs)(t.p,{children:["Devices should be managed by a Mobile Device Management (MDM) system. The most secure and scalable way to deploy DoD certificates is by pushing a configuration profile (",(0,r.jsx)(t.code,{children:".mobileconfig"})," file) containing the required device certificates to your fleet via MDM."]}),(0,r.jsxs)(t.p,{children:["If your organization does ",(0,r.jsx)(t.strong,{children:"not"})," have an MDM solution, it is advised to have users follow the automated based installation instructions in the ",(0,r.jsx)(t.a,{href:"/docs/certificate/DoD-Certificates-Users",children:"User Guide"})," to ensure proper certificate deployment and trust settings."]})]}),"\n",(0,r.jsx)(t.p,{children:"You will find two approaches for installing and deploying DoD certificates with MDM:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"#automated-script-method",children:(0,r.jsx)(t.strong,{children:"Automated Script Method:"})}),"\nUse an automated tool or script to generate a ",(0,r.jsx)(t.code,{children:".mobileconfig"})," file that includes all required DoD certificates. You can then upload this configuration profile into your MDM solution and push it to all managed devices."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"#manual-method",children:(0,r.jsx)(t.strong,{children:"Manual Method:"})}),"\nDownload each required certificate, upload them individually into your MDM solution, and configure a certificate payload/profile. Then push the profile to your MDM-managed fleet."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["Both methods achieve the same result\u2014installing the necessary DoD certificates\u2014but differ in terms of scalability and automation. Using a ",(0,r.jsx)(t.code,{children:".mobileconfig"})," profile with MDM is the preferred approach for organizations. If MDM is not available, users must have admin rights to install certificates, and manual steps may lead to errors or failed instructions."]}),"\n",(0,r.jsx)("small",{children:(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsx)(t.p,{children:(0,r.jsxs)(t.em,{children:["This guide is designed for macOS Monterey and newer (typically the latest supported macOS versions). Older versions may require additional software or different steps. If you need a guide for an older version, please ",(0,r.jsx)(t.a,{href:"https://github.com/cocopuff2u/cac-for-mac/discussions",children:"submit a request on GitHub Discussions"}),"."]})})})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"automated-script-method",children:(0,r.jsx)(t.strong,{children:"Automated Script Method"})}),"\n",(0,r.jsxs)(t.p,{children:["This method uses a script or tool to generate a configuration profile (",(0,r.jsx)(t.code,{children:".mobileconfig"}),") containing all required DoD certificates, which you then deploy via your MDM."]}),"\n",(0,r.jsx)(t.p,{children:"The automated script will:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Download the latest DoD certificates directly from the official ",(0,r.jsx)(t.a,{href:"https://cyber.mil",children:"cyber.mil"})," website."]}),"\n",(0,r.jsxs)(t.li,{children:["Generate a ",(0,r.jsx)(t.code,{children:".mobileconfig"})," that contains the latest DoD Certificates"]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"step-1-download-the-script",children:"Step 1: Download the script"}),"\n",(0,r.jsx)(t.p,{children:"Open Terminal and run the following commands to switch to your Downloads folder and download the script:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"cd ~/Downloads\ncurl -O https://raw.githubusercontent.com/cocopuff2u/MacOS_GOV_Scripts/main/Keychain_And_Certificates_Scripts/Generate_DoD_Certs_Mobileconfig.py\n"})}),"\n",(0,r.jsxs)(t.p,{children:["The script file will now be saved in your ",(0,r.jsx)(t.strong,{children:"Downloads"})," folder as ",(0,r.jsx)(t.code,{children:"Generate_DoD_Certs_Mobileconfig.py"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["Alternatively, you can download the script directly from GitHub using your browser:\n",(0,r.jsx)(t.a,{href:"https://github.com/cocopuff2u/MacOS_GOV_Scripts/blob/main/Keychain_And_Certificates_Scripts/Generate_DoD_Certs_Mobileconfig.py",children:"Download Generate_DoD_Certs_Mobileconfig.py from GitHub"})]}),"\n",(0,r.jsx)(t.h3,{id:"step-2-run-the-script",children:"Step 2: Run the script"}),"\n",(0,r.jsx)(t.p,{children:"Navigate to the folder where you downloaded the script (by default, your Downloads folder):"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"cd ~/Downloads\n"})}),"\n",(0,r.jsx)(t.p,{children:"Then run the script with the following command:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"sudo python3 Generate_DoD_Certs_Mobileconfig.py\n"})}),"\n",(0,r.jsx)(t.p,{children:"If you kept the Terminal window open from the previous step, you can simply run the command above."}),"\n",(0,r.jsxs)(t.p,{children:["This will generate a ",(0,r.jsx)(t.code,{children:"DoD_Certificates_VX.XX.mobileconfig"})," file in the same location as the script."]}),"\n",(0,r.jsxs)(t.admonition,{type:"warning",children:[(0,r.jsx)(t.mdxAdmonitionTitle,{}),(0,r.jsxs)(t.p,{children:["Anytime you run any scripts, it is recommended to review the code beforehand to verify it is not doing anything outside the described steps. You can inspect this one ",(0,r.jsx)("a",{href:"https://raw.githubusercontent.com/cocopuff2u/MacOS_GOV_Scripts/main/Keychain_And_Certificates_Scripts/Generate_DoD_Certs_Mobileconfig.py",target:"_blank",rel:"noopener noreferrer",children:"here"})]})]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Example of a generated .mobileconfig file:"})}),"\n",(0,r.jsx)("img",{src:"/img/certificate-guide-img/mobileconfig_open.webp",alt:"Example DoD Certificates Mobileconfig",width:"400"}),"\n",(0,r.jsx)(t.p,{children:"The information in the description is automatically generated by the script:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"File version:"})," The version of the DoD certificates ZIP file downloaded from ",(0,r.jsx)(t.code,{children:"cyber.mil"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Script version:"})," The version of the script used to generate the profile."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Last updated:"})," The date the script was last run and the profile was generated."]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"step-3-upload-the-mobileconfig-to-your-mdm",children:"Step 3: Upload the .mobileconfig to Your MDM"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Log in to your MDM admin console."}),"\n",(0,r.jsx)(t.li,{children:"Create a new configuration profile or certificate payload."}),"\n",(0,r.jsxs)(t.li,{children:["Upload the generated ",(0,r.jsx)(t.code,{children:"DoD_Certificates_VX.XX.mobileconfig"})," file."]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"step-4-assign-and-deploy-the-profile",children:"Step 4: Assign and Deploy the Profile"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Assign the profile to the appropriate device groups or users."}),"\n",(0,r.jsx)(t.li,{children:"Push the profile to all managed devices."}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"step-5-verify-deployment",children:"Step 5: Verify Deployment"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["On a managed device, open ",(0,r.jsx)(t.strong,{children:"Keychain Access"})," and check the ",(0,r.jsx)(t.strong,{children:"System"})," keychain for the imported DoD certificates."]}),"\n",(0,r.jsx)(t.li,{children:"Confirm that certificates are present and trusted (no red X or warning icons)."}),"\n",(0,r.jsx)(t.li,{children:"Test access to DoD resources to ensure functionality."}),"\n"]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"manual-method",children:(0,r.jsx)(t.strong,{children:"Manual Method"})}),"\n",(0,r.jsx)(t.p,{children:"This method requires uploading each certificate file to your MDM and configuring a certificate payload to be deployed to all devices. The exact steps for uploading, assigning, and deploying certificates may vary depending on your MDM solution. The instructions below provide a general overview of the recommended process."}),"\n",(0,r.jsx)(t.h3,{id:"step-1-download-dod-certificates-from-an-authorized-location",children:"Step 1: Download DoD Certificates from an Authorized Location"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Go to ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.a,{href:"https://cyber.mil",children:"cyber.mil"})}),".","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.em,{children:"Or"}),", you can ",(0,r.jsx)(t.a,{href:"https://dl.dod.cyber.mil/wp-content/uploads/pki-pke/zip/unclass-dod_approved_external_pkis_trust_chains.zip",children:"download here"})," (official link from cyber.mil) then skip to ",(0,r.jsx)(t.a,{href:"#step-2-locate-extract-and-explore-the-certificates",children:"step 2"})]}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("img",{src:"/img/certificate-guide-img/step1-cybermil.webp",alt:"Go to cyber.mil",width:"600"}),"\n",(0,r.jsx)("br",{}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["In the top menu bar (right), select ",(0,r.jsx)(t.strong,{children:"PKI-PKE"}),".","\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("img",{src:"/img/certificate-guide-img/step1-pkipkemenu.webp",alt:"Select PKI-PKE",width:"400"}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("img",{src:"/img/certificate-guide-img/step1-pkipkemenu-2.webp",alt:"Select PKI-PKE",width:"400"}),"\n",(0,r.jsx)("br",{}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["In the left side menu, click on ",(0,r.jsx)(t.strong,{children:"Document Library"}),".","\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("img",{src:"/img/certificate-guide-img/step1-doclibrary.webp",alt:"Click Document Library",width:"200"}),"\n",(0,r.jsx)("br",{}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["Search for ",(0,r.jsx)(t.strong,{children:'"DoD Approved External PKI Certificates Trust Chains"'}),".","\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("img",{src:"/img/certificate-guide-img/step1-dod-external.webp",alt:"Search for DoD Approved External PKI Certificates Trust Chains",width:"400"}),"\n",(0,r.jsx)("br",{}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"step-2-locate-extract-and-explore-the-certificates",children:"Step 2: Locate, Extract, and Explore the Certificates"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsxs)(t.strong,{children:["Find the downloaded ZIP file named ",(0,r.jsx)(t.code,{children:"DoD_Approved_External_PKIs_Trust_Chains.zip"})]})}),"\n"]}),"\n","\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsxs)(t.p,{children:[(0,r.jsx)("strong",{children:"Where is my downloaded ZIP file?"}),(0,r.jsx)(t.br,{}),"\n",(0,r.jsx)(t.em,{children:"(Click to expand and see example paths, helpful notes, and images in the tabs below)"})]})}),(0,r.jsxs)(t.p,{children:["By default, your downloaded file will be saved in your ",(0,r.jsx)(t.strong,{children:"Downloads"})," folder. However, you may have chosen a different location when saving the file\u2014please check your browser's download settings or the location you selected."]}),(0,r.jsxs)(o.A,{children:[(0,r.jsx)(l.A,{value:"Path",label:"Example Path",default:!0,children:(0,r.jsx)(t.p,{children:(0,r.jsx)(t.code,{children:"/Users/YOURUSERNAME/Downloads/DoD_Approved_External_PKIs_Trust_Chains.zip"})})}),(0,r.jsx)(l.A,{value:"Image",label:"Example Image",children:(0,r.jsx)("img",{src:"/img/certificate-guide-img/step2-zip.webp",alt:"ZIP file in Downloads folder",width:"400"})})]})]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsxs)(t.strong,{children:["Double-click the ZIP file to extract it to a folder named ",(0,r.jsx)(t.code,{children:"DoD_Approved_External_PKIs_Trust_Chains_vXX.X_YYYYMMDD"})]})}),"\n"]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsxs)(t.p,{children:[(0,r.jsx)("strong",{children:"Where did it extract?"}),(0,r.jsx)(t.br,{}),"\n",(0,r.jsx)(t.em,{children:"(Click to expand and see example paths, helpful notes, and images in the tabs below)"})]})}),(0,r.jsx)(t.p,{children:"When you extract the zip it will create a folder. By default, the extracted folder will appear in the same location as the ZIP file. If you use a third-party extraction tool or changed the extraction path, the folder may be located elsewhere\u2014check your tool's settings or the location you selected."}),(0,r.jsxs)(o.A,{children:[(0,r.jsx)(l.A,{value:"Path",label:"Example Path",default:!0,children:(0,r.jsx)(t.p,{children:(0,r.jsx)(t.code,{children:"/Users/YOURUSERNAME/Downloads/DoD_Approved_External_PKIs_Trust_Chains_vXX.X_YYYYMMDD/"})})}),(0,r.jsx)(l.A,{value:"Image",label:"Example Image",children:(0,r.jsx)("img",{src:"/img/certificate-guide-img/step2-unzip.webp",alt:"Extracted folder in Downloads",width:"400"})})]})]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsxs)(t.strong,{children:["Open the extracted folder named ",(0,r.jsx)(t.code,{children:"DoD_Approved_External_PKIs_Trust_Chains_vXX.X_YYYYMMDD"})]})}),"\n"]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsxs)(t.p,{children:[(0,r.jsx)("strong",{children:"How to Open?"}),(0,r.jsx)(t.br,{}),"\n",(0,r.jsx)(t.em,{children:"(Click to expand and see example paths, helpful notes, and images in the tabs below)"})]})}),(0,r.jsxs)(t.p,{children:["The extracted folder will be named ",(0,r.jsx)(t.code,{children:"DoD_Approved_External_PKIs_Trust_Chains_vXX.X_YYYYMMDD"}),".",(0,r.jsx)(t.br,{}),"\n","Locate this folder in your downloads (or chosen location) and double-click it to open and view its contents."]})]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsxs)(t.strong,{children:["Open the ",(0,r.jsx)(t.code,{children:"_DoD"})," folder inside the extracted folder name ",(0,r.jsx)(t.code,{children:"DoD_Approved_External_PKIs_Trust_Chains_vXX.X_YYYYMMDD"})]})}),"\n"]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsxs)(t.p,{children:[(0,r.jsxs)("strong",{children:["Where is the ",(0,r.jsx)("code",{children:"_DoD"})," directory?"]}),(0,r.jsx)(t.br,{}),"\n",(0,r.jsx)(t.em,{children:"(Click to expand and see example paths, helpful notes, and images in the tabs below)"})]})}),(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"_DoD"})," folder is located within the extracted ",(0,r.jsx)(t.code,{children:"DoD_Approved_External_PKIs_Trust_Chains_vXX.X_YYYYMMDD"})," directory. Open the extracted folder and look for the ",(0,r.jsx)(t.code,{children:"_DoD"})," directory as shown below."]}),(0,r.jsxs)(o.A,{children:[(0,r.jsx)(l.A,{value:"Path",label:"Example Path",default:!0,children:(0,r.jsx)(t.p,{children:(0,r.jsx)(t.code,{children:"/DoD_Approved_External_PKIs_Trust_Chains_vXX.X_YYYYMMDD/_DoD/"})})}),(0,r.jsx)(l.A,{value:"Image",label:"Example Image",children:(0,r.jsx)("img",{src:"/img/certificate-guide-img/step2-dodfolder.webp",alt:"_DoD folder",width:"400"})})]})]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsxs)(t.strong,{children:["Find/Verify the folders ",(0,r.jsx)(t.code,{children:"Intermediate_and_Issuing_CA_Certs"})," & ",(0,r.jsx)(t.code,{children:"Trust_Anchors_Self-Signed"})," contain CA's"]})}),"\n"]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsxs)(t.p,{children:[(0,r.jsx)("strong",{children:"Where are the certificate folders?"}),(0,r.jsx)(t.br,{}),"\n",(0,r.jsx)(t.em,{children:"(Click to expand and see example paths, helpful notes, and images in the tabs below)"})]})}),(0,r.jsxs)(t.p,{children:["Inside the ",(0,r.jsx)(t.code,{children:"_DoD"})," folder, you will find:"]}),(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"Intermediate_and_Issuing_CA_Certs"})," (contains Intermediate CA certificates)"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"Trust_Anchors_Self-Signed"})," (contains Root CA certificates)"]}),"\n"]}),(0,r.jsx)(t.p,{children:"Each of these folders contains the certificate files (CAs) that you will import into your keychains."}),(0,r.jsxs)(o.A,{children:[(0,r.jsxs)(l.A,{value:"Path",label:"Example Path",children:[(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.em,{children:"Intermediate_and_Issuing_CA_Certs Path"}),"\n",(0,r.jsx)(t.code,{children:"/Users/YOURUSERNAME/Downloads/DoD_Approved_External_PKIs_Trust_Chains_v11.4_20250324/_DoD/Intermediate_and_Issuing_CA_Certs"})]}),(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.em,{children:"Trust_Anchors_Self-Signed Path"}),"\n",(0,r.jsx)(t.code,{children:"/Users/YOURUSERNAME/Downloads/DoD_Approved_External_PKIs_Trust_Chains_v11.4_20250324/_DoD/Trust_Anchors_Self-Signed"})]})]}),(0,r.jsx)(l.A,{value:"DoD Image",label:"Example Image DoD",children:(0,r.jsx)("img",{src:"/img/certificate-guide-img/step2-unzipped-dod.webp",alt:"Intermediate CA Certificates",width:"400"})}),(0,r.jsx)(l.A,{value:"Intermediate",label:"Example Image Intermediate",children:(0,r.jsx)("img",{src:"/img/certificate-guide-img/step2-inermediate-ca.webp",alt:"Intermediate CA Certificates",width:"400"})}),(0,r.jsx)(l.A,{value:"Root",label:"Example Image Root",children:(0,r.jsx)("img",{src:"/img/certificate-guide-img/step2-root-ca.webp",alt:"Root CA Certificates",width:"400"})})]})]}),"\n",(0,r.jsx)(t.h3,{id:"step-3-upload-certificates-to-mdm",children:"Step 3: Upload Certificates to MDM"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Take the downloaded certificate files (from the extracted folders) and upload them into your MDM according to your MDM provider's documentation."}),"\n",(0,r.jsx)(t.li,{children:"Typically, you will create a new certificate payload or profile and add all required Root and Intermediate CA certificates."}),"\n",(0,r.jsxs)(t.li,{children:["For reference, here are guides for common MDM providers:","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://learn.jamf.com/en-US/bundle/technical-paper-integrating-ad-cs-current/page/Distributing_a_Certificate_Using_a_Configuration_Profile.html",children:"Jamf Pro: Uploading Configuration Profiles"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://learn.microsoft.com/en-us/intune/intune-service/protect/certificates-trusted-root",children:"Microsoft Intune: Add or create a device configuration profile"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://docs.omnissa.com/bundle/workspace-one-access-deployment-with-UEM/page/AddCertificateTemplateinWorkspaceONEUEM.html",children:"VMware Workspace ONE: Add a Configuration Profile"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://support.kandji.io/kb/certificate-profile",children:"Kandji: Add and Deploy Configuration Profiles"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"step-4-configure-configuration-settings-if-available",children:"Step 4: Configure Configuration Settings (if available)"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:'Many MDMs allow you to configure trust settings for certificates. For Root CAs, set the trust level to "Always Trust" if your MDM supports it.'}),"\n",(0,r.jsxs)(t.li,{children:["When creating the certificate payload or profile, you may have the option to specify additional keys, such as:","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"AllowAllAppsAccess"})," \u2013 allows all applications to access the certificate."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"KeyIsExtractable"})," \u2013 allows the private key to be exported or extracted (if applicable)."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["The specific keys and settings available depend on the certificate payload type and your MDM platform. For detailed information on supported keys and configuration options, see:","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://developer.apple.com/documentation/devicemanagement/acmecertificate",children:"Apple ACMECertificate Payload Keys"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://developer.apple.com/documentation/devicemanagement/certificateroot",children:"Apple CertificateRoot Payload Keys"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.li,{children:"Always consult your MDM provider's documentation for instructions on setting these options and configuring trust."}),"\n",(0,r.jsx)(t.li,{children:"After configuration, review the profile for accuracy before deploying."}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"step-5-assign-and-deploy-the-profile",children:"Step 5: Assign and Deploy the Profile"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Assign the certificate profile to the relevant device groups or users."}),"\n",(0,r.jsx)(t.li,{children:"Push the profile to all managed devices."}),"\n"]}),"\n",(0,r.jsx)(t.admonition,{type:"important",children:(0,r.jsx)(t.p,{children:(0,r.jsx)(t.em,{children:"If a certificate already exists on a device and you deploy it via MDM, the MDM-managed certificate will take control and override any local settings for that certificate. When you remove the certificate profile from MDM, the certificate will be completely removed from the device."})})}),"\n",(0,r.jsx)(t.h3,{id:"step-6-verify-on-devices",children:"Step 6: Verify on Devices"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["On a managed device, open ",(0,r.jsx)(t.strong,{children:"Keychain Access"})," and check the ",(0,r.jsx)(t.strong,{children:"System"})," keychain for the imported certificates."]}),"\n",(0,r.jsx)(t.li,{children:'Ensure Root CAs are trusted (orange, "Always Trust") and Intermediates are present (blue).'}),"\n",(0,r.jsx)(t.li,{children:"Test access to DoD resources."}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Visual Examples:"}),(0,r.jsx)(t.br,{}),"\n","Below is a table showing what a properly trusted Root CA certificate and a failed trust setting look like in Keychain Access, as well as the color difference between Root and Intermediate CAs:"]}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Good (Always Trust) Root CA"}),(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Failed Trust Root CA"}),(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Root CA (Orange)"}),(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Intermediate CA (Blue)"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:(0,r.jsx)("img",{src:"/img/certificate-guide-img/CertSmallRoot_UserTrust.webp",alt:"Root CA Always Trust Example",width:"25"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:(0,r.jsx)("img",{src:"/img/certificate-guide-img/CertSmallRoot_Invalid.webp",alt:"Root CA Not Trusted Example",width:"25"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:(0,r.jsx)("img",{src:"/img/certificate-guide-img/CertLargeRoot.webp",alt:"Example Root CA certificate file",width:"50"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:(0,r.jsx)("img",{src:"/img/certificate-guide-img/CertLargeStd.webp",alt:"Example Intermediate CA certificate file",width:"50"})})]})})]})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"troubleshooting-steps",children:(0,r.jsx)(t.strong,{children:"Troubleshooting Steps"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Certificates not appearing on devices:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Ensure the profile was assigned and pushed to the correct devices."}),"\n",(0,r.jsx)(t.li,{children:"Check for errors in the MDM deployment logs."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Certificates not trusted:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Verify trust settings in the MDM profile."}),"\n",(0,r.jsx)(t.li,{children:"Remove old/expired DoD certificates from devices before deploying new ones."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Profile installation fails:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Check for conflicting profiles or existing certificates."}),"\n",(0,r.jsx)(t.li,{children:"Ensure devices are enrolled and communicating with MDM."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Access to DoD resources still fails:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Confirm certificates are in the ",(0,r.jsx)(t.strong,{children:"System"})," keychain and trusted."]}),"\n",(0,r.jsx)(t.li,{children:"Restart the device and test again."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsx)(t.p,{children:"If a certificate already exists on a device and you deploy it via MDM, the MDM-managed certificate will take control and override any local settings for that certificate. When you remove the certificate profile from MDM, the certificate will be completely removed from the device."})}),"\n",(0,r.jsx)("small",{children:(0,r.jsxs)(t.admonition,{title:"Feedback?",type:"note",children:[(0,r.jsx)(t.p,{children:(0,r.jsxs)(t.em,{children:["If you found an error, noticed something missing, or need additional help, please ",(0,r.jsx)(t.a,{href:"https://github.com/cocopuff2u/cac-for-mac/issues",children:"submit feedback on GitHub"})," or start a ",(0,r.jsx)(t.a,{href:"https://github.com/cocopuff2u/cac-for-mac/discussions",children:"GitHub discussion"}),"."]})}),(0,r.jsx)(t.p,{children:(0,r.jsxs)(t.em,{children:["If you'd like to contribute improvements to this guide, feel free to submit a ",(0,r.jsx)(t.a,{href:"https://github.com/cocopuff2u/cac-for-mac/pulls",children:"pull request"})," or select ",(0,r.jsx)(t.code,{children:"edit this page"})," below."]})})]})})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},8453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>l});var n=i(6540);const r={},s=n.createContext(r);function o(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(s.Provider,{value:t},e.children)}},9365:(e,t,i)=>{i.d(t,{A:()=>o});i(6540);var n=i(4164);const r={tabItem:"tabItem_Ymn6"};var s=i(4848);function o({children:e,hidden:t,className:i}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,n.A)(r.tabItem,i),hidden:t,children:e})}}}]);