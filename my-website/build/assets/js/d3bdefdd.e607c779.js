"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[255],{1181:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"smartcard/Any-SmartCard-Users","title":"General | User","description":"This guide explains how to pair your smart card with your local user account on a Mac. Pairing lets you use your smart card PIN for logging into your Mac, running sudo commands, and other authentication prompts. However, some functions\u2014such as software updates and keychain access\u2014will still require your local account or keychain password.","source":"@site/docs/smartcard/Any-SmartCard-Users.md","sourceDirName":"smartcard","slug":"/smartcard/Any-SmartCard-Users","permalink":"/docs/smartcard/Any-SmartCard-Users","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/smartcard/Any-SmartCard-Users.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"General | User"},"sidebar":"smartCardGuideSidebar","previous":{"title":"Smart Card Introduction","permalink":"/docs/smartcard/Smart-Card-Introduction"},"next":{"title":"General | Admin","permalink":"/docs/smartcard/Any-SmartCard-Admins"}}');var s=n(4848),t=n(8453);const a={sidebar_position:2,title:"General | User"},o="Smart Card Setup \u2013 User Guide",l={},c=[{value:"<strong>Pair PIV ID</strong>",id:"pair-piv-id",level:2},{value:"Step 1: Run automated script",id:"step-1-run-automated-script",level:3},{value:"Step 2: (Optional) Verify PIV ID Pairing",id:"step-2-optional-verify-piv-id-pairing",level:3},{value:"Uninstall: PIV ID Pairing",id:"uninstall-piv-id-pairing",level:3},{value:"<strong>Built-In Pairing</strong>",id:"built-in-pairing",level:2},{value:"Step 1: Start Pairing",id:"step-1-start-pairing",level:3},{value:"Step 2: Complete Pairing",id:"step-2-complete-pairing",level:3},{value:"Step 3: (Optional) Verify smart card Pairing",id:"step-3-optional-verify-smart-card-pairing",level:3},{value:"Uninstall: Built-In Pairing",id:"uninstall-built-in-pairing",level:3},{value:"<strong>Troubleshooting</strong>",id:"troubleshooting",level:2}];function d(e){const r={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"smart-card-setup--user-guide",children:"Smart Card Setup \u2013 User Guide"})}),"\n",(0,s.jsxs)(r.p,{children:["This guide explains how to pair your smart card with your local user account on a Mac. Pairing lets you use your smart card PIN for logging into your Mac, running ",(0,s.jsx)(r.code,{children:"sudo"})," commands, and other authentication prompts. However, some functions\u2014such as software updates and keychain access\u2014will still require your local account or keychain password."]}),"\n",(0,s.jsx)(r.admonition,{type:"important",children:(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Pairing your smart card only enables PIN-based login and authentication (including ",(0,s.jsx)(r.code,{children:"sudo"})," and some system prompts) to your Mac user account."]}),"\n",(0,s.jsxs)(r.li,{children:["Pairing is ",(0,s.jsx)(r.strong,{children:"not required"})," to access company websites or applications."]}),"\n",(0,s.jsx)(r.li,{children:"Usually accessing most company websites and applications requires installing the companies root and intermediate certificates."}),"\n",(0,s.jsxs)(r.li,{children:["See the ",(0,s.jsx)(r.a,{href:"/docs/certificate/Any-Certificates-Users",children:"User Certificates Guide"})," for details."]}),"\n",(0,s.jsx)(r.li,{children:"Administrator rights are required to pair or unpair a smart card."}),"\n"]})}),"\n",(0,s.jsx)(r.p,{children:"You can pair your smart card to the local account using one of the following methods:"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsxs)("h2",{children:[(0,s.jsx)(r.a,{href:"#pair-piv-id",children:(0,s.jsx)(r.strong,{children:"Pair PIV ID"})}),(0,s.jsx)("small",{children:(0,s.jsx)(r.em,{children:"(Preferred Method)"})})]}),"\nThis method links the PIV ID from your smart card to the ",(0,s.jsx)(r.code,{children:"AltSecurityIdentities"})," attribute of your user account. By default, it assumes your organization uses a PIV ID, but the script can be modified to pair using a different identifier if needed."]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Benefits:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Works seamlessly with multiple smart cards or when switching smart cards."}),"\n",(0,s.jsx)(r.li,{children:"No need to re-pair unless PIV ID changes, as the PIV ID typically should remain unchanged"}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Downsides:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["May still function if the certificate expires ",(0,s.jsx)("small",{children:(0,s.jsx)(r.em,{children:"(unverified)"})}),"."]}),"\n",(0,s.jsx)(r.li,{children:"If the PIV ID changes (rare, but possible), it will require an uninstall and reinstall."}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)("h2",{children:(0,s.jsx)(r.a,{href:"#built-in-pairing",children:(0,s.jsx)(r.strong,{children:"Built-In Pairing"})})}),"\nThis method uses Apple's built-in pairing functionality to link the certificates from the smart card to the local account."]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Benefits:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Automatically prompts for authentication whenever the smart card is present."}),"\n",(0,s.jsxs)(r.li,{children:["Pairs with the certificates, so if they expire, the pairing will no longer work ",(0,s.jsx)("small",{children:(0,s.jsx)(r.em,{children:"(unverified)"})}),"."]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Downsides:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Requires re-pairing if the smart card changes."}),"\n",(0,s.jsx)(r.li,{children:"Supports only one smart card at a time."}),"\n",(0,s.jsx)(r.li,{children:"It is recommended to clear all existing pairings before re-pairing."}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Both methods achieve the same goal but differ in their suitability for long-term use or handling multiple smart cards."}),"\n",(0,s.jsx)("small",{children:(0,s.jsx)(r.admonition,{type:"note",children:(0,s.jsx)(r.p,{children:(0,s.jsxs)(r.em,{children:["This guide is designed for macOS Monterey and newer (typically the latest supported macOS versions). Older versions may require additional software or different steps. If you need a guide for an older version, please ",(0,s.jsx)(r.a,{href:"https://github.com/cocopuff2u/cac-for-mac/discussions",children:"submit a request on GitHub Discussions"}),"."]})})})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"pair-piv-id",children:(0,s.jsx)(r.strong,{children:"Pair PIV ID"})}),"\n",(0,s.jsx)(r.p,{children:"This method retrieves the PIV ID from your smart card and maps it to your local user account. If your organization uses a different identifier, it is recommended to modify the script accordingly to use the appropriate value."}),"\n",(0,s.jsx)(r.p,{children:"The automated script will:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Verify that a smart card is present."}),"\n",(0,s.jsx)(r.li,{children:"Extract the PIV ID from the smart card and securely delete the extracted data locally."}),"\n",(0,s.jsx)(r.li,{children:"Create a mapping using the extracted PIV ID."}),"\n",(0,s.jsx)(r.li,{children:"Assign the mapping to the local user account."}),"\n",(0,s.jsx)(r.li,{children:"Attach the mapping to FileVault (ARM64 devices only)."}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"step-1-run-automated-script",children:"Step 1: Run automated script"}),"\n",(0,s.jsxs)(r.p,{children:["Copy and paste the code below into your ",(0,s.jsx)(r.strong,{children:"Terminal"}),".",(0,s.jsx)(r.br,{}),"\n","It will prompt you for your local Mac password to proceed.",(0,s.jsx)(r.br,{}),"\n",(0,s.jsx)(r.strong,{children:"You must have administrator rights to run this script:"})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'sudo bash -c "$(curl -s https://raw.githubusercontent.com/cocopuff2u/MacOS_GOV_Scripts/main/Keychain_And_Certificates_Scripts/SmartCard_Mapping.sh)"\n'})}),"\n",(0,s.jsxs)(r.admonition,{type:"warning",children:[(0,s.jsx)(r.mdxAdmonitionTitle,{}),(0,s.jsxs)(r.p,{children:["Anytime you run any scripts, it is recommended to review the code beforehand to verify it is not doing anything outside the described steps. You can inspect this one ",(0,s.jsx)("a",{href:"https://raw.githubusercontent.com/cocopuff2u/MacOS_GOV_Scripts/main/Keychain_And_Certificates_Scripts/SmartCard_Mapping.sh",target:"_blank",rel:"noopener noreferrer",children:"here"})]})]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Example of the pairing:"})}),"\n",(0,s.jsx)("img",{src:"/img/smartcard/smartcard_mapping.webp",alt:"Import smart card Certs",width:"600"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Tip:"})," If you experience issues after pairing or unpairing, try rebooting your Mac to ensure changes take effect."]}),"\n",(0,s.jsx)(r.h3,{id:"step-2-optional-verify-piv-id-pairing",children:"Step 2: (Optional) Verify PIV ID Pairing"}),"\n",(0,s.jsx)(r.p,{children:"To confirm that the PIV ID has been successfully paired:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:"Remove your smart card from the reader and reinsert it."}),"\n",(0,s.jsxs)(r.li,{children:["Open the ",(0,s.jsx)(r.strong,{children:"Terminal"})," and enter the following command:"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"sudo -i\n"})}),"\n",(0,s.jsxs)(r.ol,{start:"3",children:["\n",(0,s.jsxs)(r.li,{children:["You should be prompted to enter your smart card PIN.","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"If you are not prompted, try rebooting your system and repeating the steps above."}),"\n",(0,s.jsx)(r.li,{children:"If you still are not prompted, check that your smart card is detected (see Troubleshooting below)."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Behavior After Pairing:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"If the smart card is present during a reboot, the system will prompt you for your smart card PIN instead of your password."}),"\n",(0,s.jsx)(r.li,{children:"Once the smart card is removed, the system will revert to requiring your local user password for authentication."}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Once complete, your smart card will be paired with your local account for authentication."}),"\n",(0,s.jsx)(r.h3,{id:"uninstall-piv-id-pairing",children:"Uninstall: PIV ID Pairing"}),"\n",(0,s.jsx)(r.p,{children:"If you need to uninstall the PIV ID pairing, follow these steps:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Download the script"}),(0,s.jsx)(r.br,{}),"\n","Download the same script used for pairing by running the following command in your ",(0,s.jsx)(r.strong,{children:"Terminal"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"curl -o ~/Downloads/SmartCard_Mapping.sh https://raw.githubusercontent.com/cocopuff2u/MacOS_GOV_Scripts/main/Keychain_And_Certificates_Scripts/SmartCard_Mapping.sh\n"})}),"\n",(0,s.jsxs)(r.admonition,{type:"warning",children:[(0,s.jsx)(r.mdxAdmonitionTitle,{}),(0,s.jsxs)(r.p,{children:["Anytime you run any scripts, it is recommended to review the code beforehand to verify it is not doing anything outside the described steps. You can inspect this one ",(0,s.jsx)("a",{href:"https://raw.githubusercontent.com/cocopuff2u/MacOS_GOV_Scripts/main/Keychain_And_Certificates_Scripts/SmartCard_Mapping.sh",target:"_blank",rel:"noopener noreferrer",children:"here"})]})]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Modify the script"}),(0,s.jsx)(r.br,{}),"\n","Navigate to your ",(0,s.jsx)(r.code,{children:"Downloads"})," folder and open the downloaded script in a text editor (e.g., ",(0,s.jsx)(r.code,{children:"nano"})," or ",(0,s.jsx)(r.code,{children:"vim"}),"). Locate the ",(0,s.jsx)(r.code,{children:"UNINSTALL"})," variable and change its value from ",(0,s.jsx)(r.code,{children:"false"})," to ",(0,s.jsx)(r.code,{children:"true"}),".",(0,s.jsx)(r.br,{}),"\n","Example using ",(0,s.jsx)(r.code,{children:"nano"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"cd ~/Downloads\nnano SmartCard_Mapping.sh\n"})}),"\n",(0,s.jsx)(r.p,{children:"Inside the script, find the following line:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:' # Set to "true" to uninstall (Default is false)\n UNINSTALL=false\n'})}),"\n",(0,s.jsx)(r.p,{children:"Change it to:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:' # Set to "true" to uninstall (Default is false)\n UNINSTALL=true\n'})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsxs)(r.strong,{children:["How to save and exit in ",(0,s.jsx)(r.code,{children:"nano"}),":"]})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Press ",(0,s.jsx)(r.code,{children:"CTRL + O"})," to save the changes."]}),"\n",(0,s.jsxs)(r.li,{children:["Press ",(0,s.jsx)(r.code,{children:"Enter"})," to confirm the file name."]}),"\n",(0,s.jsxs)(r.li,{children:["Press ",(0,s.jsx)(r.code,{children:"CTRL + X"})," to exit the editor."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Run the script"}),(0,s.jsx)(r.br,{}),"\n","While still in the ",(0,s.jsx)(r.code,{children:"Downloads"})," folder, execute the modified script to uninstall the PIV ID pairing:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"sudo bash SmartCard_Mapping.sh\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Verify uninstallation"}),(0,s.jsx)(r.br,{}),"\n","After running the script, remove and reinsert your smart card. The system should no longer prompt for your smart card PIN and will revert to using your local user password for authentication."]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"If you are still prompted for your smart card PIN, reboot your Mac and try again."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"built-in-pairing",children:(0,s.jsx)(r.strong,{children:"Built-In Pairing"})}),"\n",(0,s.jsx)(r.p,{children:"This method uses the Apple built-in pairing functions to tie the smart card to the local account."}),"\n",(0,s.jsx)(r.h3,{id:"step-1-start-pairing",children:"Step 1: Start Pairing"}),"\n",(0,s.jsxs)(r.p,{children:["Insert your smart card into the reader.",(0,s.jsx)(r.br,{}),"\n","You should see a prompt in the upper right corner of your screen\u2014click ",(0,s.jsx)(r.strong,{children:"Pair"})," to begin the process."]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Prompt Image:"})}),"\n",(0,s.jsx)("img",{src:"/img/smartcard/cac-pair-prompt.webp",alt:"Example Pair Prompt",width:"300"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Tip:"})," If you do not see the prompt, ensure your smart card is fully inserted and detected by the system (see Troubleshooting below)."]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"If the prompt does not appear, you can manually launch the pairing dialog by running the following command in Terminal:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"/usr/sbin/sc_auth pairing_ui -f\n"})}),"\n",(0,s.jsx)(r.p,{children:"If the pairing prompt still does not appear after running the command:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Ensure your smart card is not already paired, either through this method or the PIV ID Pairing method."}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Make sure your smart card is detected by the Mac (e.g., visible in Keychain Access or System Information). If the smart card is not recognized by the system, the pairing prompt will not appear."}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"You can also try unpairing any existing pairing by running:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"/usr/sbin/sc_auth unpair\n"})}),"\n",(0,s.jsx)(r.admonition,{type:"warning",children:(0,s.jsxs)(r.p,{children:["Running ",(0,s.jsx)(r.code,{children:"sc_auth unpair"})," will unpair ",(0,s.jsx)(r.strong,{children:"all"})," smart cards from your account."]})}),"\n",(0,s.jsx)(r.p,{children:"Then try launching the pairing dialog again."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"step-2-complete-pairing",children:"Step 2: Complete Pairing"}),"\n",(0,s.jsx)(r.p,{children:"Follow the on-screen instructions:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["After clicking ",(0,s.jsx)(r.strong,{children:"Pair"})," or forcing the prompt open with the command, you will be prompted to select which Certificate for PIV to pair. Keep an eye on the reader name to verify which PIV to pair if you have multiple smart cards present."]}),"\n",(0,s.jsx)("img",{src:"/img/smartcard/cac-select-prompt.webp",alt:"Example Select Prompt",width:"400"}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Next, you will be asked to enter your Mac username and password."}),"\n",(0,s.jsx)("img",{src:"/img/smartcard/login-prompt.webp",alt:"Example Login Prompt",width:"200"}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"You will then be prompted for your smart card PIN."}),"\n",(0,s.jsx)("img",{src:"/img/smartcard/cac-pin-prompt.webp",alt:"Example Login Prompt",width:"200"}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Finally, you will be asked for your keychain password."}),"\n",(0,s.jsx)("img",{src:"/img/smartcard/keychain-pair-prompt.webp",alt:"Example Login Prompt",width:"400"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Once complete, your smart card will be paired with your local account for authentication."}),"\n",(0,s.jsx)(r.h3,{id:"step-3-optional-verify-smart-card-pairing",children:"Step 3: (Optional) Verify smart card Pairing"}),"\n",(0,s.jsx)(r.p,{children:"To confirm that the smart card ID has been successfully paired:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:"Remove your smart card from the reader and reinsert it."}),"\n",(0,s.jsxs)(r.li,{children:["Open the ",(0,s.jsx)(r.strong,{children:"Terminal"})," and enter the following command:"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"sudo -i\n"})}),"\n",(0,s.jsxs)(r.ol,{start:"3",children:["\n",(0,s.jsxs)(r.li,{children:["You should be prompted to enter your smart card PIN.","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"If you are not prompted, try rebooting your system and repeating the steps above."}),"\n",(0,s.jsx)(r.li,{children:"If you still are not prompted, check that your smart card is detected (see Troubleshooting below)."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Behavior After Pairing:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"If the smart card is present during a reboot, the system will prompt you for your smart card PIN instead of your password."}),"\n",(0,s.jsx)(r.li,{children:"Once the smart card is removed, the system will revert to requiring your local user password for authentication."}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"uninstall-built-in-pairing",children:"Uninstall: Built-In Pairing"}),"\n",(0,s.jsx)(r.p,{children:"If you need to remove the built-in pairing from your account, run the following command in Terminal:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"/usr/sbin/sc_auth unpair\n"})}),"\n",(0,s.jsx)(r.admonition,{type:"warning",children:(0,s.jsxs)(r.p,{children:["Running ",(0,s.jsx)(r.code,{children:"sc_auth unpair"})," will unpair ",(0,s.jsx)(r.strong,{children:"all"})," smart cards from your account."]})}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Tip:"})," After unpairing, reboot your Mac to ensure the changes take effect."]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"After unpairing, your Mac will revert to using your local user password for authentication."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"troubleshooting",children:(0,s.jsx)(r.strong,{children:"Troubleshooting"})}),"\n",(0,s.jsx)(r.p,{children:"If you encounter issues with smart card pairing or authentication, try the following steps:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Verify the Mac detects your smart card:"}),(0,s.jsx)(r.br,{}),"\n","Open ",(0,s.jsx)(r.strong,{children:"System Information"})," (Apple menu > About This Mac > More Info > System Report) and check under the ",(0,s.jsx)(r.strong,{children:"SmartCards"})," section to confirm your smart card is detected as a connected device."]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Check for certificates on the smart card:"}),(0,s.jsx)(r.br,{}),"\n","Open ",(0,s.jsx)(r.strong,{children:"System Information"})," (Apple menu > About This Mac > More Info > System Report) and check under the ",(0,s.jsx)(r.strong,{children:"SmartCards"})," section and look for your PIV ID."]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Try a different smart card reader:"}),(0,s.jsx)(r.br,{}),"\n","Hardware issues with the reader can prevent proper detection. Test with another reader if available."]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Unpair all smart cards and start fresh:"}),(0,s.jsx)(r.br,{}),"\n","Run both uninstall steps for Pair PIV ID and Built-In Pairing to remove any existing pairings:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"/usr/sbin/sc_auth unpair\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Reboot your Mac:"}),(0,s.jsx)(r.br,{}),"\n","Sometimes a simple restart can resolve detection or pairing issues."]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Check for macOS updates:"}),(0,s.jsx)(r.br,{}),"\n","Go to ",(0,s.jsx)(r.strong,{children:"System Settings > General > Software Update"})," and install any available updates. Some smart card issues are resolved by updating macOS."]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Try another smart card:"}),(0,s.jsx)(r.br,{}),"\n","If possible, test with a different smart card to rule out card-specific problems."]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Check for security or privacy software:"}),(0,s.jsx)(r.br,{}),"\n","Some third-party security or privacy tools may interfere with smart card detection. Temporarily disable them if you suspect interference."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"If problems persist after these steps, contact your IT support team or have your smart card evaluated for potential issues."}),"\n",(0,s.jsx)("small",{children:(0,s.jsxs)(r.admonition,{title:"Feedback?",type:"note",children:[(0,s.jsx)(r.p,{children:(0,s.jsxs)(r.em,{children:["If you found an error, noticed something missing, or need additional help, please ",(0,s.jsx)(r.a,{href:"https://github.com/cocopuff2u/cac-for-mac/issues",children:"submit feedback on GitHub"})," or start a ",(0,s.jsx)(r.a,{href:"https://github.com/cocopuff2u/cac-for-mac/discussions",children:"GitHub discussion"}),"."]})}),(0,s.jsx)(r.p,{children:(0,s.jsxs)(r.em,{children:["If you'd like to contribute improvements to this guide, feel free to submit a ",(0,s.jsx)(r.a,{href:"https://github.com/cocopuff2u/cac-for-mac/pulls",children:"pull request"})," or select ",(0,s.jsx)(r.code,{children:"edit this page"})," below."]})})]})})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>a,x:()=>o});var i=n(6540);const s={},t=i.createContext(s);function a(e){const r=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(t.Provider,{value:r},e.children)}}}]);